{"link_serial":135,"update_time":"2017-05-16T13:33:36.281000+00:00","scrub_version":"48f99abcdf450e7c49a04015355fb699f785e8cbf8288d894686a64c6caeddd1","instance_id":"5674c167-a49f-4572-b9d2-b10506c3deba","snap_map":{"0e4b37b7-1bda-4ba9-854a-5f0aa766c94b":{"instance_version":2,"class_id":"com-snaplogic-snaps-mysql-insert","class_build_tag":"snapsmrc398","class_fqid":"com-snaplogic-snaps-mysql-insert_2-snapsmrc398","instance_id":"0e4b37b7-1bda-4ba9-854a-5f0aa766c94b","property_map":{"info":{"notes":{"value":null},"label":{"value":"Insert into ODS.LOG_TABLE_TEST"}},"view_serial":100,"account":{"account_ref":{"value":{"label":{"value":"MySQL Aurora"},"ref_class_id":{"value":"com-snaplogic-snap-api-sql-accounts-mysqldatabaseaccount"},"ref_id":{"value":"5c8e23ce-2518-45c0-b090-4031cbcddb86"}}}},"settings":{"duplicates":{"value":"Fail"},"schemaName":{"expression":false,"value":null},"createTable":{"value":false},"tableName":{"expression":false,"value":"`ODS`.`LOG_TABLE_TEST`"},"executable_during_suggest":{"value":false}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"input":{"inputRows":{"view_type":{"value":"document"},"label":{"value":"rows"}}}},"class_version":2,"instance_fqid":"0e4b37b7-1bda-4ba9-854a-5f0aa766c94b_2"},"1a65ee28-2e79-4c60-a1ff-07c04d0289a5":{"instance_id":"1a65ee28-2e79-4c60-a1ff-07c04d0289a5","class_id":"com-snaplogic-snaps-transform-aggregate","class_build_tag":"snapsmrc398","class_fqid":"com-snaplogic-snaps-transform-aggregate_3-snapsmrc398","instance_version":3,"property_map":{"info":{"notes":{"value":"counts all error documents from parent pipeline"},"label":{"value":"Error Count"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"integerMode":{"value":false},"aggregateFields":{"value":[{"function":{"value":"COUNT"},"field":{"expression":true,"value":"_error"},"resultField":{"value":"errorCount"}}]},"sortedStreams":{"value":"Unsorted"},"groupByFields":{"value":[]}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"class_version":3,"instance_fqid":"1a65ee28-2e79-4c60-a1ff-07c04d0289a5_3"},"3ed05767-41c2-44c1-bb89-eb9102dcea2c":{"instance_id":"3ed05767-41c2-44c1-bb89-eb9102dcea2c","class_id":"com-snaplogic-snaps-transform-datatransform","class_build_tag":"snapsmrc398","class_fqid":"com-snaplogic-snaps-transform-datatransform_4-snapsmrc398","instance_version":32,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Calculate duration"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"nullSafeAccess":{"value":true},"passThrough":{"value":false},"transformations":{"value":{"mappingTable":{"value":[{"targetPath":{"value":"$pipeRuuid"},"expression":{"expression":true,"value":"$_ruuid"}},{"targetPath":{"value":"$label"},"expression":{"expression":true,"value":"$_label"}},{"targetPath":{"value":"$plexPath"},"expression":{"expression":true,"value":"$_plexPath"}},{"targetPath":{"value":"$pipe_user"},"expression":{"expression":true,"value":"$_user"}},{"targetPath":{"value":"$startTime"},"expression":{"expression":true,"value":"$_startTime"}},{"targetPath":{"value":"$endTime"},"expression":{"expression":true,"value":"Date.now()"}},{"targetPath":{"value":"$runDuration"},"expression":{"expression":true,"value":"JSON.stringify(Math.floor((Date.now() - $_startTime)/(1000*60*60))) + \":\" +JSON.stringify(Math.floor((Date.now() - $_startTime)/(1000*60))) + \":\" +JSON.stringify(Math.floor((Date.now() - $_startTime)/(1000))) + \".\" +JSON.stringify((Date.now() - $_startTime) - (Math.floor((Date.now() - $_startTime)/(1000))*1000)"}},{"targetPath":{"value":"$errorCount"},"expression":{"expression":true,"value":"$errorCount"}},{"targetPath":{"value":"$successCount"},"expression":{"expression":true,"value":"$successCount"}},{"targetPath":{"value":"$pipe_instanceID"},"expression":{"expression":true,"value":"$_pipe_instanceID"}},{"targetPath":{"value":"$pipe_project_path"},"expression":{"expression":true,"value":"$_pipe_project_path"}},{"targetPath":{"value":"$pipe_hostname"},"expression":{"expression":true,"value":"$_pipe_hostname"}},{"targetPath":{"value":"$pipe_parentRuuid"},"expression":{"expression":true,"value":"$_pipe_parentRuuid"}}]},"mappingRoot":{"value":"$"}}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_version":4,"instance_fqid":"3ed05767-41c2-44c1-bb89-eb9102dcea2c_32"},"ca37e96a-e671-4c93-9901-f85a6790993b":{"instance_version":7,"class_id":"com-snaplogic-snaps-transform-multijoin","class_build_tag":"snapsmrc398","class_fqid":"com-snaplogic-snaps-transform-multijoin_1-snapsmrc398","instance_id":"ca37e96a-e671-4c93-9901-f85a6790993b","property_map":{"info":{"notes":{"value":"joins error and success counts back into one row"},"label":{"value":"Merge counts together"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}},"input1":{"label":{"value":"input1"},"view_type":{"value":"document"}}},"settings":{"nullGreater":{"value":false},"nullSafeAccess":{"value":false},"noMatchData":{"value":false},"joinPaths":{"value":[{"rightPath":{"expression":true,"value":"true"},"rightInputView":{"value":"input1"},"leftPath":{"expression":true,"value":"true"}}]},"joinType":{"value":"Merge"},"sortedStreams":{"value":"Ascending"}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_version":1,"instance_fqid":"ca37e96a-e671-4c93-9901-f85a6790993b_7"},"e00f6ee9-c047-40f0-82cf-f9e5d10b121c":{"instance_version":4,"class_id":"com-snaplogic-snaps-flow-router","class_build_tag":"snapsmrc398","class_fqid":"com-snaplogic-snaps-flow-router_2-snapsmrc398","instance_id":"e00f6ee9-c047-40f0-82cf-f9e5d10b121c","property_map":{"info":{"notes":{"value":null},"label":{"value":"Split errors and successes"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"routes":{"value":[{"expression":{"expression":true,"value":"$_error == false"},"outputViewName":{"value":"output0"}},{"expression":{"expression":true,"value":"$_error == true"},"outputViewName":{"value":"output1"}}]},"firstMatch":{"value":false}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}},"output1":{"label":{"value":"output1"},"view_type":{"value":"document"}}}},"class_version":2,"instance_fqid":"e00f6ee9-c047-40f0-82cf-f9e5d10b121c_4"},"8621c42d-fc32-4166-8e29-26a82dfb1722":{"instance_id":"8621c42d-fc32-4166-8e29-26a82dfb1722","class_id":"com-snaplogic-snaps-transform-multijoin","class_build_tag":"snapsmrc398","class_fqid":"com-snaplogic-snaps-transform-multijoin_1-snapsmrc398","instance_version":5,"property_map":{"info":{"notes":{"value":"joins counts and doc-wide data back into one row"},"label":{"value":"Merge metadata with aggregation"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}},"input1":{"view_type":{"value":"document"},"label":{"value":"input1"}}},"settings":{"joinType":{"value":"Merge"},"nullSafeAccess":{"value":false},"noMatchData":{"value":false},"joinPaths":{"value":[{"rightPath":{"expression":true,"value":"true"},"rightInputView":{"value":"input1"},"leftPath":{"expression":true,"value":"true"}}]},"nullGreater":{"value":false},"sortedStreams":{"value":"Ascending"}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"class_version":1,"instance_fqid":"8621c42d-fc32-4166-8e29-26a82dfb1722_5"},"58005a60-1b44-4aa9-a902-11fe1b08b792":{"instance_version":2,"class_id":"com-snaplogic-snaps-flow-copy","class_build_tag":"snapsmrc398","class_fqid":"com-snaplogic-snaps-flow-copy_1-snapsmrc398","instance_id":"58005a60-1b44-4aa9-a902-11fe1b08b792","property_map":{"info":{"notes":{"value":"Creates one copy to grab doc-wide data and another to count successes and errors"},"label":{"value":"Copy"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}},"output1":{"view_type":{"value":"document"},"label":{"value":"output1"}}}},"class_version":1,"instance_fqid":"58005a60-1b44-4aa9-a902-11fe1b08b792_2"},"241c0e0a-6f83-4868-a380-f0590860db34":{"instance_id":"241c0e0a-6f83-4868-a380-f0590860db34","class_id":"com-snaplogic-snaps-transform-aggregate","class_build_tag":"snapsmrc398","class_fqid":"com-snaplogic-snaps-transform-aggregate_3-snapsmrc398","instance_version":3,"property_map":{"info":{"notes":{"value":"counts all successful documents from parent pipeline"},"label":{"value":"Success Count"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"integerMode":{"value":false},"aggregateFields":{"value":[{"function":{"value":"COUNT"},"field":{"expression":true,"value":"_error"},"resultField":{"value":"successCount"}}]},"sortedStreams":{"value":"Unsorted"},"groupByFields":{"value":[]}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_version":3,"instance_fqid":"241c0e0a-6f83-4868-a380-f0590860db34_3"},"16c76717-75ad-4457-82d6-be5cf9d8321e":{"instance_id":"16c76717-75ad-4457-82d6-be5cf9d8321e","class_id":"com-snaplogic-snaps-flow-head","class_build_tag":"snapsmrc398","class_fqid":"com-snaplogic-snaps-flow-head_1-snapsmrc398","instance_version":2,"property_map":{"info":{"notes":{"value":"Gets first doc to eliminate redundant logging data"},"label":{"value":"Get first document"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"numberOfDocs":{"value":1},"offset":{"value":0}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_version":1,"instance_fqid":"16c76717-75ad-4457-82d6-be5cf9d8321e_2"}},"phase_snode_id":null,"class_fqid":"com-snaplogic-pipeline_8","partition_snode_id":"58c70e0fa87b6d76b3470f45","path_id":"/BUDev/projects/JackSkrable","create_time":"2017-05-03T20:42:01.294000+00:00","snode_id":"590a4099e8ac6e1c29743c63","update_user_id":"jskrable@bu.edu","org_snode_id":"58c70e0ea87b6d76b3470f3e","path":"/BUDev/projects/JackSkrable/logIt_modular_test","instance_version":140,"migrate_version":"master-2517","scrub_backup":[],"_id":"5674c167-a49f-4572-b9d2-b10506c3deba","create_user_id":"jskrable@bu.edu","project_snode_id":"58ef9a4c44ecb472c109eb8b","property_map":{"info":{"notes":{"value":null},"author":{"value":"jskrable@bu.edu"},"purpose":{"value":null},"pipeline_doc_uri":{"value":null},"label":{"value":"logIt_modular_test"}},"input":{"58005a60-1b44-4aa9-a902-11fe1b08b792_input0":{"label":{"value":"Copy - input0"},"view_type":{"value":"document"}}},"settings":{"param_table":{"value":[{"capture":{"value":true},"value":{"value":null},"key":{"value":"ruuid"}},{"capture":{"value":true},"value":{"value":null},"key":{"value":"label"}},{"capture":{"value":true},"value":{"value":null},"key":{"value":"startTime"}},{"capture":{"value":true},"value":{"value":null},"key":{"value":"error"}},{"capture":{"value":true},"value":{"value":null},"key":{"value":"plexPath"}},{"capture":{"value":true},"value":{"value":null},"key":{"value":"pipe_user"}},{"capture":{"value":true},"value":{"value":null},"key":{"value":"pipe_instanceID"}},{"capture":{"value":true},"value":{"value":null},"key":{"value":"pipe_project_path"}},{"capture":{"value":true},"value":{"value":null},"key":{"value":"pipe_hostname"}},{"capture":{"value":true},"value":{"value":null},"key":{"value":"parentRuuid"}}]},"imports":{"value":[]}},"instance_version":139,"error":{"error_behavior":{"value":"none"}},"output":{}},"render_map":{"pan_x_num":0,"default_snaplex":"58c70e1349eb06545392a1c8","scale_ratio":1,"detail_map":{"0e4b37b7-1bda-4ba9-854a-5f0aa766c94b":{"grid_x_int":8,"rot_int":270,"grid_y_int":1,"rot_tail_int":0},"1a65ee28-2e79-4c60-a1ff-07c04d0289a5":{"grid_x_int":4,"rot_int":0,"grid_y_int":3,"rot_tail_int":0},"3ed05767-41c2-44c1-bb89-eb9102dcea2c":{"grid_x_int":7,"rot_int":0,"grid_y_int":1,"rot_tail_int":0},"ca37e96a-e671-4c93-9901-f85a6790993b":{"grid_x_int":5,"rot_int":0,"grid_y_int":2,"rot_tail_int":0,"input":{"input1":{"dx_int":0,"rot_int":0,"dy_int":1}}},"e00f6ee9-c047-40f0-82cf-f9e5d10b121c":{"grid_x_int":3,"rot_int":0,"grid_y_int":2,"rot_tail_int":0,"output":{"output1":{"dx_int":0,"rot_int":0,"dy_int":1}}},"8621c42d-fc32-4166-8e29-26a82dfb1722":{"grid_x_int":6,"rot_int":0,"grid_y_int":1,"rot_tail_int":0,"input":{"input1":{"dx_int":0,"rot_int":0,"dy_int":1}}},"58005a60-1b44-4aa9-a902-11fe1b08b792":{"grid_x_int":2,"rot_int":0,"grid_y_int":1,"rot_tail_int":0,"output":{"output1":{"dx_int":0,"rot_int":0,"dy_int":1}}},"241c0e0a-6f83-4868-a380-f0590860db34":{"grid_x_int":4,"rot_int":0,"grid_y_int":2,"rot_tail_int":0},"16c76717-75ad-4457-82d6-be5cf9d8321e":{"grid_x_int":3,"rot_int":0,"grid_y_int":1,"rot_tail_int":0}},"pan_y_num":0},"org_id":"58c70e0ea87b6d76b3470f3e","class_version":8,"class_id":"com-snaplogic-pipeline","instance_fqid":"5674c167-a49f-4572-b9d2-b10506c3deba_140","link_map":{"link127":{"src_view_id":"output1","dst_view_id":"input0","src_id":"58005a60-1b44-4aa9-a902-11fe1b08b792","dst_id":"e00f6ee9-c047-40f0-82cf-f9e5d10b121c"},"link120":{"src_view_id":"output0","dst_view_id":"input0","src_id":"e00f6ee9-c047-40f0-82cf-f9e5d10b121c","dst_id":"241c0e0a-6f83-4868-a380-f0590860db34"},"link121":{"src_view_id":"output1","dst_view_id":"input0","src_id":"e00f6ee9-c047-40f0-82cf-f9e5d10b121c","dst_id":"1a65ee28-2e79-4c60-a1ff-07c04d0289a5"},"link117":{"src_view_id":"output0","dst_view_id":"input1","src_id":"1a65ee28-2e79-4c60-a1ff-07c04d0289a5","dst_id":"ca37e96a-e671-4c93-9901-f85a6790993b"},"link130":{"src_view_id":"output0","dst_view_id":"input0","src_id":"8621c42d-fc32-4166-8e29-26a82dfb1722","dst_id":"3ed05767-41c2-44c1-bb89-eb9102dcea2c"},"link118":{"src_view_id":"output0","dst_view_id":"input0","src_id":"241c0e0a-6f83-4868-a380-f0590860db34","dst_id":"ca37e96a-e671-4c93-9901-f85a6790993b"},"link128":{"src_view_id":"output0","dst_view_id":"input0","src_id":"58005a60-1b44-4aa9-a902-11fe1b08b792","dst_id":"16c76717-75ad-4457-82d6-be5cf9d8321e"},"link129":{"src_view_id":"output0","dst_view_id":"input0","src_id":"16c76717-75ad-4457-82d6-be5cf9d8321e","dst_id":"8621c42d-fc32-4166-8e29-26a82dfb1722"},"link131":{"src_view_id":"output0","dst_view_id":"input1","src_id":"ca37e96a-e671-4c93-9901-f85a6790993b","dst_id":"8621c42d-fc32-4166-8e29-26a82dfb1722"},"link134":{"src_view_id":"output0","dst_view_id":"inputRows","src_id":"3ed05767-41c2-44c1-bb89-eb9102dcea2c","dst_id":"0e4b37b7-1bda-4ba9-854a-5f0aa766c94b"}},"original":{"partition_snode_id":"58c70e0fa87b6d76b3470f45","updated_by":"jskrable@bu.edu","perms":["A","R","W","X"],"time_created":"2017-05-03T20:42:01.329000+00:00","snode_id":"590a4099e8ac6e1c29743c63","owner":"jskrable@bu.edu","path":"/BUDev/projects/JackSkrable/logIt_modular_test","asset_type":"Pipeline","asset_id":"5674c167-a49f-4572-b9d2-b10506c3deba","time_updated":"2017-05-16T13:33:36.281000+00:00","name":"logIt_modular_test","parent_snode_id":"58ef9a4c44ecb472c109eb8b","acl":[],"metadata":{},"original":{"partition_snode_id":"58c70e0fa87b6d76b3470f45","updated_by":"jskrable@bu.edu","perms":["A","R","W","X"],"time_created":"2017-04-13T15:33:32.442000+00:00","snode_id":"58ef9a4c44ecb472c109eb8b","owner":"jskrable@bu.edu","path":"/BUDev/projects/JackSkrable","asset_type":"Dir","asset_id":null,"time_updated":"2017-11-20T20:07:13.490000+00:00","name":"JackSkrable","parent_snode_id":"58c70e0fa87b6d76b3470f45","acl":[{"perms":["R","W","X"],"subject_type":"USER","inherit":true,"subject":"jskrable@bu.edu"},{"perms":["R","X"],"subject_type":"USER","inherit":true,"subject":"wlobao@bu.edu"},{"perms":["R","X"],"subject_type":"USER","inherit":true,"subject":"tsemd@bu.edu"},{"perms":["R","X"],"subject_type":"USER","inherit":true,"subject":"mvyravan@bu.edu"}],"metadata":{"pattern":false},"original":{"partition_snode_id":"5a1eba684503bf001e5a19c6","updated_by":"sdelano@bu.edu","perms":["A","R","W","X"],"time_created":"2017-03-13T21:24:31.092000+00:00","snode_id":"58c70e0fa87b6d76b3470f45","owner":"sdelano1@comcast.net","path":"/BUDev/projects","asset_type":"Dir","asset_id":null,"time_updated":"2017-11-03T14:40:52.927000+00:00","name":"projects","parent_snode_id":"58c70e0ea87b6d76b3470f3e","acl":[{"perms":["R","W","X"],"subject_type":"USER","inherit":true,"subject":"admin@snaplogic.com"},{"perms":["R"],"subject_type":"GROUP","inherit":false,"subject":"members"},{"perms":["R"],"subject_type":"USER","inherit":false,"subject":"mvyravan@bu.edu"},{"perms":["R","W","X"],"subject_type":"USER","inherit":true,"subject":"sdelano1@comcast.net"},{"perms":["R","X","W"],"subject_type":"GROUP","inherit":false,"subject":"Developers"}],"metadata":{}}}}}