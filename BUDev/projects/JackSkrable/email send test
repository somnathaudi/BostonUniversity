{"link_serial":104,"update_time":"2017-07-26T13:04:46.207000+00:00","phase_snode_id":null,"scrub_version":"48f99abcdf450e7c49a04015355fb699f785e8cbf8288d894686a64c6caeddd1","instance_id":"6b63d357-5637-42e8-820a-0174451a091a","update_user_id":"jskrable@bu.edu","class_fqid":"com-snaplogic-pipeline_8","partition_snode_id":"58c70e0fa87b6d76b3470f45","class_version":8,"snode_id":"5977622244ecb4442312ed17","snap_map":{"04601824-b426-42a4-870d-196904eb5648":{"instance_version":1,"class_id":"com-snaplogic-snaps-mysql-execute","class_build_tag":"snapsmrc405","class_fqid":"com-snaplogic-snaps-mysql-execute_1-snapsmrc405","instance_id":"04601824-b426-42a4-870d-196904eb5648","property_map":{"info":{"notes":{"value":null},"label":{"value":"MySQL - Execute"}},"view_serial":101,"account":{"account_ref":{"expression":false,"value":{"label":{"expression":false,"value":"MYSQL Aurora"},"ref_class_id":{"value":"com-snaplogic-snap-api-sql-accounts-mysqldatabaseaccount"},"ref_id":{"expression":false,"value":"7058dcab-4bf3-40f4-a7fd-f957f752c3e3"}}}},"settings":{"passThrough":{"value":true},"ignoreEmptyResult":{"value":false},"executable_during_suggest":{"value":true},"sqlStatement":{"expression":false,"value":"SELECT CAST(A.state_timestamp AS DATE) as Date\n,B.cloudDocs\n,B.cloudPipes\n,B.cloudAvgDuration\n,C.groundDocs\n,C.groundPipes\n,C.groundAvgDuration\nFROM Dispositon_Report.Pipeline_Disposition A\n     LEFT OUTER JOIN\n     (SELECT SUM(DOCUMENTS) as cloudDocs,\n             COUNT(ID) as cloudPipes,\n\t\t   state_timestamp,\n             avg((CAST(state_timestamp AS TIME) - CAST(create_time AS TIME)))\n                AS cloudAvgDuration\n      FROM Dispositon_Report.Pipeline_Disposition\n      WHERE runtime_path_id like '%/rt/cloud/%'\n\t GROUP BY CAST(state_timestamp AS DATE)) B\n        ON CAST(A.state_timestamp AS DATE) = CAST(B.state_timestamp AS DATE)\n     LEFT OUTER JOIN\n     (SELECT SUM(DOCUMENTS) as groundDocs,\n             COUNT(ID) as groundPipes,\n\t\t   state_timestamp,\n             avg((CAST(state_timestamp AS TIME) - CAST(create_time AS TIME)))\n                AS groundAvgDuration\n      FROM Dispositon_Report.Pipeline_Disposition\n      WHERE runtime_path_id like '%/rt/sidekick/%'\n\t GROUP BY CAST(state_timestamp AS DATE)) C\n        ON CAST(A.state_timestamp AS DATE) = CAST(C.state_timestamp AS DATE)\nWHERE A.state IN ('Completed', 'Failed')\nGROUP BY CAST(A.state_timestamp AS DATE)\nORDER BY CAST(A.state_timestamp AS DATE) desc;"}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output101":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"class_version":1,"instance_fqid":"04601824-b426-42a4-870d-196904eb5648_1"},"600b82c2-ac23-46c0-8fd0-421a55640ccf":{"instance_version":1,"class_id":"com-snaplogic-snaps-email-emailsender","class_build_tag":"snapsmrc405","class_fqid":"com-snaplogic-snaps-email-emailsender_2-snapsmrc405","instance_id":"600b82c2-ac23-46c0-8fd0-421a55640ccf","property_map":{"info":{"notes":{"value":null},"label":{"value":"Email Sender"}},"view_serial":102,"account":{"account_ref":{"expression":false,"value":{"ref_id":{"expression":false,"value":"ed44d88c-1173-4639-8af8-a45e9b3fffd1"},"ref_class_id":{"value":"com-snaplogic-snaps-email-smtpaccount"},"label":{"expression":false,"value":"jskrable Test Email Sender"}}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"settings":{"body":{"expression":false,"value":"This is a sample of what our reporting data can look like. This task was automated and sent from SnapLogic. The CSV files attached are queries on our Disposition Report tables in Aurora. I grabbed a few that I thought might be useful for you.\n\nLet us know what you think.\n\nBest,\nJack"},"retries":{"value":3},"from":{"expression":false,"value":"reporting@snaplogic.budev.com"},"attachments":{"value":[{"url":{"expression":true,"value":"\"daily_summaries_by_snapplex_\" + Date.now().getMonth().toString() + \"_\" + Date.now().getDate().toString() + \"_\" + Date.now().getFullYear().toString().substring(2,4) + \".csv\""}},{"url":{"expression":true,"value":"\"daily_docs_processed_by_classification_\" + Date.now().getMonth().toString() + \"_\" + Date.now().getDate().toString() + \"_\" + Date.now().getFullYear().toString().substring(2,4) + \".csv\""}}]},"cc":{"expression":false,"value":"sdelano@bu.edu"},"emailType":{"value":"HTML text"},"batchSize":{"value":100},"executable_during_suggest":{"value":false},"bcc":{"expression":false,"value":null},"to":{"expression":false,"value":"jskrable@bu.edu"},"tableDataPath":{"value":null},"passThrough":{"value":false},"subject":{"expression":false,"value":"Weekly Snaplogic Summary Reports"}}},"class_version":2,"instance_fqid":"600b82c2-ac23-46c0-8fd0-421a55640ccf_1"},"fabcaa13-7416-491c-be19-9bf84b65faf3":{"instance_version":1,"class_id":"com-snaplogic-snaps-mysql-execute","class_build_tag":"snapsmrc405","class_fqid":"com-snaplogic-snaps-mysql-execute_1-snapsmrc405","instance_id":"fabcaa13-7416-491c-be19-9bf84b65faf3","property_map":{"info":{"notes":{"value":null},"label":{"value":"MySQL - Execute"}},"view_serial":101,"account":{"account_ref":{"expression":false,"value":{"label":{"expression":false,"value":"MYSQL Aurora"},"ref_class_id":{"value":"com-snaplogic-snap-api-sql-accounts-mysqldatabaseaccount"},"ref_id":{"expression":false,"value":"7058dcab-4bf3-40f4-a7fd-f957f752c3e3"}}}},"settings":{"passThrough":{"value":true},"ignoreEmptyResult":{"value":false},"executable_during_suggest":{"value":true},"sqlStatement":{"expression":false,"value":"SELECT CONVERT(A.state_timestamp, DATE)\n          AS Date,\n       CASE WHEN B.internalProcessed IS NULL THEN 0 ELSE B.internalProcessed END\n          AS 'Internal Docs Processed',\n       CASE WHEN C.publicProcessed IS NULL THEN 0 ELSE C.publicProcessed END\n          AS 'Public Docs Processed',\n       CASE WHEN D.restrictedProcessed IS NULL THEN 0 ELSE D.restrictedProcessed END\n          AS 'Restricted Docs Processed',\n       CASE WHEN E.confidentialProcessed IS NULL THEN 0 ELSE E.confidentialProcessed END\n          AS 'Confidential Docs Processed'\t\t\nFROM Dispositon_Report.Pipeline_Disposition A\n     LEFT OUTER JOIN\n     (SELECT a.create_time,\n             SUM(a.documents) AS internalProcessed,\n             b.Data_Classification,\n\t\t   a.pipe_id\n      FROM Dispositon_Report.Pipeline_Disposition a\n           INNER JOIN Dispositon_Report.Pipeline_Descriptor b\n              ON a.pipe_id = b.pipe_instanceId\n      WHERE b.Data_Classification = 'Internal'\n      GROUP BY convert(a.create_time, date)) B\n        ON CONVERT(A.state_timestamp, DATE)=convert(B.create_time, date)\n     LEFT OUTER JOIN\n     (SELECT a.create_time,\n             SUM(a.documents) AS publicProcessed,\n             b.Data_Classification,\n\t\t   a.pipe_id\n      FROM Dispositon_Report.Pipeline_Disposition a\n           INNER JOIN Dispositon_Report.Pipeline_Descriptor b\n              ON a.pipe_id = b.pipe_instanceId\n      WHERE b.Data_Classification = 'Public'\n      GROUP BY convert(a.create_time, date)) C\n        ON CONVERT(A.state_timestamp, DATE)=convert(C.create_time, date)\n     LEFT OUTER JOIN\n     (SELECT a.create_time,\n             SUM(a.documents) AS restrictedProcessed,\n             b.Data_Classification,\n\t\t   a.pipe_id\n      FROM Dispositon_Report.Pipeline_Disposition a\n           INNER JOIN Dispositon_Report.Pipeline_Descriptor b\n              ON a.pipe_id = b.pipe_instanceId\n      WHERE b.Data_Classification = 'Restricted'\n      GROUP BY convert(a.create_time, date)) D\n        ON CONVERT(A.state_timestamp, DATE)=convert(D.create_time, date)\n     LEFT OUTER JOIN\n     (SELECT a.create_time,\n             SUM(a.documents) AS confidentialProcessed,\n             b.Data_Classification,\n\t\t   a.pipe_id\n      FROM Dispositon_Report.Pipeline_Disposition a\n           INNER JOIN Dispositon_Report.Pipeline_Descriptor b\n              ON a.pipe_id = b.pipe_instanceId\n      WHERE b.Data_Classification = 'Confidential'\n      GROUP BY convert(a.create_time, date)) E\n        ON CONVERT(A.state_timestamp, DATE)=convert(E.create_time, date)\nWHERE A.state != 'Failed'\nGROUP BY CONVERT(A.state_timestamp, DATE)\nORDER BY CONVERT(A.state_timestamp, DATE) desc;"}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output101":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_version":1,"instance_fqid":"fabcaa13-7416-491c-be19-9bf84b65faf3_1"},"c9eb0dc2-8eba-49b8-bb6a-e36c872cd43f":{"instance_version":1,"class_id":"com-snaplogic-snaps-transform-csvformatter","class_build_tag":"snapsmrc405","class_fqid":"com-snaplogic-snaps-transform-csvformatter_3-snapsmrc405","instance_id":"c9eb0dc2-8eba-49b8-bb6a-e36c872cd43f","property_map":{"info":{"label":{"value":"CSV Formatter"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"quoteMode":{"value":"ALL"},"quoteCharacter":{"value":"\""},"writeHeader":{"value":true},"charset":{"value":"UTF-8"},"ignoreEmptyStream":{"value":false},"delimiter":{"value":","},"newlineCharacter":{"value":"LF"},"useDefinedHeader":{"value":false}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"binary"}}}},"class_version":3,"instance_fqid":"c9eb0dc2-8eba-49b8-bb6a-e36c872cd43f_1"},"d7327a43-61f7-4a18-95df-febc0c9c1bd7":{"instance_version":1,"class_id":"com-snaplogic-snaps-binary-write","class_build_tag":"snapsmrc405","class_fqid":"com-snaplogic-snaps-binary-write_3-snapsmrc405","instance_id":"d7327a43-61f7-4a18-95df-febc0c9c1bd7","property_map":{"info":{"notes":{"value":null},"label":{"value":"File Writer"}},"view_serial":101,"account":{"account_ref":{"expression":false,"value":{}}},"input":{"input0":{"view_type":{"value":"binary"},"label":{"value":"input0"}}},"settings":{"createDir":{"value":false},"writeHeader":{"value":false},"executable_during_suggest":{"value":false},"filename":{"expression":true,"value":"\"daily_summaries_by_snapplex_\" + Date.now().getMonth().toString() + \"_\" + Date.now().getDate().toString() + \"_\" + Date.now().getFullYear().toString().substring(2,4) + \".csv\""},"writeEmptyFile":{"value":false},"UserPermissionsKey":{"value":[]},"validate":{"value":false},"fileAction":{"value":"OVERWRITE"}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output101":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_version":3,"instance_fqid":"d7327a43-61f7-4a18-95df-febc0c9c1bd7_1"},"00cb51c6-00e6-4ed4-a9c1-ee2bbd21acf3":{"instance_version":1,"class_id":"com-snaplogic-snaps-transform-csvformatter","class_build_tag":"snapsmrc405","class_fqid":"com-snaplogic-snaps-transform-csvformatter_3-snapsmrc405","instance_id":"00cb51c6-00e6-4ed4-a9c1-ee2bbd21acf3","property_map":{"info":{"label":{"value":"CSV Formatter"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"quoteMode":{"value":"ALL"},"quoteCharacter":{"value":"\""},"writeHeader":{"value":true},"charset":{"value":"UTF-8"},"ignoreEmptyStream":{"value":false},"delimiter":{"value":","},"newlineCharacter":{"value":"LF"},"useDefinedHeader":{"value":false}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"binary"},"label":{"value":"output0"}}}},"class_version":3,"instance_fqid":"00cb51c6-00e6-4ed4-a9c1-ee2bbd21acf3_1"},"0d7a1df4-a9bf-43e0-8685-c368ab5df969":{"instance_version":1,"class_id":"com-snaplogic-snaps-binary-write","class_build_tag":"snapsmrc405","class_fqid":"com-snaplogic-snaps-binary-write_3-snapsmrc405","instance_id":"0d7a1df4-a9bf-43e0-8685-c368ab5df969","property_map":{"info":{"notes":{"value":null},"label":{"value":"File Writer"}},"view_serial":101,"account":{"account_ref":{"expression":false,"value":{}}},"settings":{"createDir":{"value":false},"writeHeader":{"value":false},"executable_during_suggest":{"value":false},"filename":{"expression":true,"value":"\"daily_docs_processed_by_classification_\" + Date.now().getMonth().toString() + \"_\" + Date.now().getDate().toString() + \"_\" + Date.now().getFullYear().toString().substring(2,4) + \".csv\""},"writeEmptyFile":{"value":false},"UserPermissionsKey":{"value":[]},"validate":{"value":false},"fileAction":{"value":"OVERWRITE"}},"output":{"output101":{"view_type":{"value":"document"},"label":{"value":"output0"}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"binary"}}}},"class_version":3,"instance_fqid":"0d7a1df4-a9bf-43e0-8685-c368ab5df969_1"}},"org_snode_id":"58c70e0ea87b6d76b3470f3e","path":"/BUDev/projects/JackSkrable/email send test","instance_version":3,"migrate_version":"master-2517","scrub_backup":[],"_id":"6b63d357-5637-42e8-820a-0174451a091a","create_user_id":"jskrable@bu.edu","project_snode_id":"58ef9a4c44ecb472c109eb8b","property_map":{"info":{"notes":{"value":null},"label":{"value":"email send test"},"purpose":{"value":null},"pipeline_doc_uri":{"value":null},"author":{"value":"jskrable@bu.edu"}},"input":{},"settings":{"param_table":{"value":[]},"imports":{"value":[]}},"instance_version":2,"error":{"error_behavior":{"value":"none"}},"output":{"d7327a43-61f7-4a18-95df-febc0c9c1bd7_output101":{"view_type":{"value":"document"},"label":{"value":"File Writer - output0"}},"0d7a1df4-a9bf-43e0-8685-c368ab5df969_output101":{"label":{"value":"File Writer - output0"},"view_type":{"value":"document"}}}},"render_map":{"pan_x_num":0,"default_snaplex":"58c70e1349eb06545392a1c8","scale_ratio":1,"detail_map":{"04601824-b426-42a4-870d-196904eb5648":{"grid_x_int":3,"rot_int":0,"grid_y_int":2,"rot_tail_int":0,"output":{}},"600b82c2-ac23-46c0-8fd0-421a55640ccf":{"grid_x_int":7,"rot_int":0,"grid_y_int":2,"rot_tail_int":0},"fabcaa13-7416-491c-be19-9bf84b65faf3":{"grid_x_int":3,"rot_int":0,"grid_y_int":3,"rot_tail_int":0,"output":{}},"c9eb0dc2-8eba-49b8-bb6a-e36c872cd43f":{"grid_x_int":4,"grid_y_int":3,"rot_tail_int":0,"output":{},"input":{},"rot_int":0},"d7327a43-61f7-4a18-95df-febc0c9c1bd7":{"grid_x_int":5,"grid_y_int":2,"rot_tail_int":0,"output":{},"input":{},"rot_int":0},"00cb51c6-00e6-4ed4-a9c1-ee2bbd21acf3":{"grid_x_int":4,"grid_y_int":2,"rot_tail_int":0,"output":{},"input":{},"rot_int":0},"0d7a1df4-a9bf-43e0-8685-c368ab5df969":{"grid_x_int":5,"grid_y_int":3,"rot_tail_int":0,"output":{},"input":{},"rot_int":0}},"pan_y_num":0},"org_id":"58c70e0ea87b6d76b3470f3e","path_id":"/BUDev/projects/JackSkrable","class_id":"com-snaplogic-pipeline","create_time":"2017-07-25T15:22:10.572000+00:00","instance_fqid":"6b63d357-5637-42e8-820a-0174451a091a_3","link_map":{"link102":{"src_view_id":"output0","dst_view_id":"input0","src_id":"c9eb0dc2-8eba-49b8-bb6a-e36c872cd43f","dst_id":"0d7a1df4-a9bf-43e0-8685-c368ab5df969"},"link103":{"src_view_id":"output0","dst_view_id":"input0","src_id":"00cb51c6-00e6-4ed4-a9c1-ee2bbd21acf3","dst_id":"d7327a43-61f7-4a18-95df-febc0c9c1bd7"},"link100":{"src_view_id":"output101","dst_view_id":"input0","src_id":"04601824-b426-42a4-870d-196904eb5648","dst_id":"00cb51c6-00e6-4ed4-a9c1-ee2bbd21acf3"},"link101":{"src_view_id":"output101","dst_view_id":"input0","src_id":"fabcaa13-7416-491c-be19-9bf84b65faf3","dst_id":"c9eb0dc2-8eba-49b8-bb6a-e36c872cd43f"}},"original":{"partition_snode_id":"58c70e0fa87b6d76b3470f45","updated_by":"jskrable@bu.edu","perms":["A","R","W","X"],"time_created":"2017-07-25T15:22:10.663000+00:00","snode_id":"5977622244ecb4442312ed17","owner":"jskrable@bu.edu","path":"/BUDev/projects/JackSkrable/email send test","asset_type":"Pipeline","asset_id":"6b63d357-5637-42e8-820a-0174451a091a","time_updated":"2017-07-26T13:04:46.207000+00:00","name":"email send test","parent_snode_id":"58ef9a4c44ecb472c109eb8b","acl":[],"metadata":{},"original":{"partition_snode_id":"58c70e0fa87b6d76b3470f45","updated_by":"jskrable@bu.edu","perms":["A","R","W","X"],"time_created":"2017-04-13T15:33:32.442000+00:00","snode_id":"58ef9a4c44ecb472c109eb8b","owner":"jskrable@bu.edu","path":"/BUDev/projects/JackSkrable","asset_type":"Dir","asset_id":null,"time_updated":"2017-11-20T20:07:13.490000+00:00","name":"JackSkrable","parent_snode_id":"58c70e0fa87b6d76b3470f45","acl":[{"perms":["R","W","X"],"subject_type":"USER","inherit":true,"subject":"jskrable@bu.edu"},{"perms":["R","X"],"subject_type":"USER","inherit":true,"subject":"wlobao@bu.edu"},{"perms":["R","X"],"subject_type":"USER","inherit":true,"subject":"tsemd@bu.edu"},{"perms":["R","X"],"subject_type":"USER","inherit":true,"subject":"mvyravan@bu.edu"}],"metadata":{"pattern":false},"original":{"partition_snode_id":"5a1eba684503bf001e5a19c6","updated_by":"sdelano@bu.edu","perms":["A","R","W","X"],"time_created":"2017-03-13T21:24:31.092000+00:00","snode_id":"58c70e0fa87b6d76b3470f45","owner":"sdelano1@comcast.net","path":"/BUDev/projects","asset_type":"Dir","asset_id":null,"time_updated":"2017-11-03T14:40:52.927000+00:00","name":"projects","parent_snode_id":"58c70e0ea87b6d76b3470f3e","acl":[{"perms":["R","W","X"],"subject_type":"USER","inherit":true,"subject":"admin@snaplogic.com"},{"perms":["R"],"subject_type":"GROUP","inherit":false,"subject":"members"},{"perms":["R"],"subject_type":"USER","inherit":false,"subject":"mvyravan@bu.edu"},{"perms":["R","W","X"],"subject_type":"USER","inherit":true,"subject":"sdelano1@comcast.net"},{"perms":["R","X","W"],"subject_type":"GROUP","inherit":false,"subject":"Developers"}],"metadata":{}}}}}