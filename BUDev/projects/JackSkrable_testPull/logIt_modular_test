{"link_serial":135,"update_time":"2017-12-14T21:33:22.711000+00:00","phase_snode_id":null,"scrub_version":"48f99abcdf450e7c49a04015355fb699f785e8cbf8288d894686a64c6caeddd1","update_user_id":"tsemd@bu.edu","class_fqid":"com-snaplogic-pipeline_8","partition_snode_id":"58c70e0fa87b6d76b3470f45","path_id":"/BUDev/projects/JackSkrable_testPull","class_version":8,"snode_id":"5a32ee22724645001f8dd8d2","snap_map":{"705895ea-273b-435f-ba20-de18c90a71a6":{"instance_version":1,"class_id":"com-snaplogic-snaps-flow-copy","class_build_tag":"snapsmrc398","class_fqid":"com-snaplogic-snaps-flow-copy_1-snapsmrc398","instance_id":"705895ea-273b-435f-ba20-de18c90a71a6","property_map":{"info":{"notes":{"value":"Creates one copy to grab doc-wide data and another to count successes and errors"},"label":{"value":"Copy"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}},"output1":{"view_type":{"value":"document"},"label":{"value":"output1"}}}},"class_version":1,"instance_fqid":"705895ea-273b-435f-ba20-de18c90a71a6_1"},"f8e2a57b-e714-47fb-8766-9f9563f6bc92":{"instance_id":"f8e2a57b-e714-47fb-8766-9f9563f6bc92","class_id":"com-snaplogic-snaps-transform-datatransform","class_build_tag":"snapsmrc398","class_fqid":"com-snaplogic-snaps-transform-datatransform_4-snapsmrc398","instance_version":1,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Calculate duration"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"nullSafeAccess":{"value":true},"passThrough":{"value":false},"transformations":{"value":{"mappingTable":{"value":[{"targetPath":{"value":"$pipeRuuid"},"expression":{"expression":true,"value":"$_ruuid"}},{"targetPath":{"value":"$label"},"expression":{"expression":true,"value":"$_label"}},{"targetPath":{"value":"$plexPath"},"expression":{"expression":true,"value":"$_plexPath"}},{"targetPath":{"value":"$pipe_user"},"expression":{"expression":true,"value":"$_user"}},{"targetPath":{"value":"$startTime"},"expression":{"expression":true,"value":"$_startTime"}},{"targetPath":{"value":"$endTime"},"expression":{"expression":true,"value":"Date.now()"}},{"targetPath":{"value":"$runDuration"},"expression":{"expression":true,"value":"JSON.stringify(Math.floor((Date.now() - $_startTime)/(1000*60*60))) + \":\" +JSON.stringify(Math.floor((Date.now() - $_startTime)/(1000*60))) + \":\" +JSON.stringify(Math.floor((Date.now() - $_startTime)/(1000))) + \".\" +JSON.stringify((Date.now() - $_startTime) - (Math.floor((Date.now() - $_startTime)/(1000))*1000)"}},{"targetPath":{"value":"$errorCount"},"expression":{"expression":true,"value":"$errorCount"}},{"targetPath":{"value":"$successCount"},"expression":{"expression":true,"value":"$successCount"}},{"targetPath":{"value":"$pipe_instanceID"},"expression":{"expression":true,"value":"$_pipe_instanceID"}},{"targetPath":{"value":"$pipe_project_path"},"expression":{"expression":true,"value":"$_pipe_project_path"}},{"targetPath":{"value":"$pipe_hostname"},"expression":{"expression":true,"value":"$_pipe_hostname"}},{"targetPath":{"value":"$pipe_parentRuuid"},"expression":{"expression":true,"value":"$_pipe_parentRuuid"}}]},"mappingRoot":{"value":"$"}}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_version":4,"instance_fqid":"f8e2a57b-e714-47fb-8766-9f9563f6bc92_1"},"86d755c7-a187-4ef6-8b94-582aac468c8a":{"instance_id":"86d755c7-a187-4ef6-8b94-582aac468c8a","class_id":"com-snaplogic-snaps-flow-head","class_build_tag":"snapsmrc398","class_fqid":"com-snaplogic-snaps-flow-head_1-snapsmrc398","instance_version":1,"property_map":{"info":{"notes":{"value":"Gets first doc to eliminate redundant logging data"},"label":{"value":"Get first document"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"numberOfDocs":{"value":1},"offset":{"value":0}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_version":1,"instance_fqid":"86d755c7-a187-4ef6-8b94-582aac468c8a_1"},"0c9d5c13-227a-4d12-b9c3-0696af5bac34":{"instance_version":1,"class_id":"com-snaplogic-snaps-mysql-insert","class_build_tag":"snapsmrc398","class_fqid":"com-snaplogic-snaps-mysql-insert_2-snapsmrc398","instance_id":"0c9d5c13-227a-4d12-b9c3-0696af5bac34","property_map":{"info":{"notes":{"value":null},"label":{"value":"Insert into ODS.LOG_TABLE_TEST"}},"view_serial":100,"account":{"account_ref":{"value":{"label":{"value":"MySQL Aurora"},"ref_class_id":{"value":"com-snaplogic-snap-api-sql-accounts-mysqldatabaseaccount"},"ref_id":{"value":"ed123f91-31d8-40b5-bf37-490a61ef4541"}}}},"settings":{"duplicates":{"value":"Fail"},"schemaName":{"expression":false,"value":null},"createTable":{"value":false},"tableName":{"expression":false,"value":"`ODS`.`LOG_TABLE_TEST`"},"executable_during_suggest":{"value":false}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"input":{"inputRows":{"view_type":{"value":"document"},"label":{"value":"rows"}}}},"class_version":2,"instance_fqid":"0c9d5c13-227a-4d12-b9c3-0696af5bac34_1"},"9a62d488-1089-475e-9707-f7f3791fcaa0":{"instance_id":"9a62d488-1089-475e-9707-f7f3791fcaa0","class_id":"com-snaplogic-snaps-transform-multijoin","class_build_tag":"snapsmrc398","class_fqid":"com-snaplogic-snaps-transform-multijoin_1-snapsmrc398","instance_version":1,"property_map":{"info":{"notes":{"value":"joins counts and doc-wide data back into one row"},"label":{"value":"Merge metadata with aggregation"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}},"input1":{"view_type":{"value":"document"},"label":{"value":"input1"}}},"settings":{"joinType":{"value":"Merge"},"nullSafeAccess":{"value":false},"noMatchData":{"value":false},"joinPaths":{"value":[{"rightPath":{"expression":true,"value":"true"},"rightInputView":{"value":"input1"},"leftPath":{"expression":true,"value":"true"}}]},"nullGreater":{"value":false},"sortedStreams":{"value":"Ascending"}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"class_version":1,"instance_fqid":"9a62d488-1089-475e-9707-f7f3791fcaa0_1"},"e4847bfc-cd42-4cd6-9547-845250294c36":{"instance_version":1,"class_id":"com-snaplogic-snaps-flow-router","class_build_tag":"snapsmrc398","class_fqid":"com-snaplogic-snaps-flow-router_2-snapsmrc398","instance_id":"e4847bfc-cd42-4cd6-9547-845250294c36","property_map":{"info":{"notes":{"value":null},"label":{"value":"Split errors and successes"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"routes":{"value":[{"expression":{"expression":true,"value":"$_error == false"},"outputViewName":{"value":"output0"}},{"expression":{"expression":true,"value":"$_error == true"},"outputViewName":{"value":"output1"}}]},"firstMatch":{"value":false}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}},"output1":{"label":{"value":"output1"},"view_type":{"value":"document"}}}},"class_version":2,"instance_fqid":"e4847bfc-cd42-4cd6-9547-845250294c36_1"},"22aa6725-683e-4c61-9337-819e8395597a":{"instance_version":1,"class_id":"com-snaplogic-snaps-transform-multijoin","class_build_tag":"snapsmrc398","class_fqid":"com-snaplogic-snaps-transform-multijoin_1-snapsmrc398","instance_id":"22aa6725-683e-4c61-9337-819e8395597a","property_map":{"info":{"notes":{"value":"joins error and success counts back into one row"},"label":{"value":"Merge counts together"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}},"input1":{"label":{"value":"input1"},"view_type":{"value":"document"}}},"settings":{"nullGreater":{"value":false},"nullSafeAccess":{"value":false},"noMatchData":{"value":false},"joinPaths":{"value":[{"rightPath":{"expression":true,"value":"true"},"rightInputView":{"value":"input1"},"leftPath":{"expression":true,"value":"true"}}]},"joinType":{"value":"Merge"},"sortedStreams":{"value":"Ascending"}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_version":1,"instance_fqid":"22aa6725-683e-4c61-9337-819e8395597a_1"},"eabb844f-6349-4d3a-9e36-f2db80af4f4d":{"instance_id":"eabb844f-6349-4d3a-9e36-f2db80af4f4d","class_id":"com-snaplogic-snaps-transform-aggregate","class_build_tag":"snapsmrc398","class_fqid":"com-snaplogic-snaps-transform-aggregate_3-snapsmrc398","instance_version":1,"property_map":{"info":{"notes":{"value":"counts all error documents from parent pipeline"},"label":{"value":"Error Count"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"integerMode":{"value":false},"aggregateFields":{"value":[{"function":{"value":"COUNT"},"field":{"expression":true,"value":"_error"},"resultField":{"value":"errorCount"}}]},"sortedStreams":{"value":"Unsorted"},"groupByFields":{"value":[]}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"class_version":3,"instance_fqid":"eabb844f-6349-4d3a-9e36-f2db80af4f4d_1"},"c52781a6-dcf9-4225-8b98-d7db05817e83":{"instance_id":"c52781a6-dcf9-4225-8b98-d7db05817e83","class_id":"com-snaplogic-snaps-transform-aggregate","class_build_tag":"snapsmrc398","class_fqid":"com-snaplogic-snaps-transform-aggregate_3-snapsmrc398","instance_version":1,"property_map":{"info":{"notes":{"value":"counts all successful documents from parent pipeline"},"label":{"value":"Success Count"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"integerMode":{"value":false},"aggregateFields":{"value":[{"function":{"value":"COUNT"},"field":{"expression":true,"value":"_error"},"resultField":{"value":"successCount"}}]},"sortedStreams":{"value":"Unsorted"},"groupByFields":{"value":[]}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_version":3,"instance_fqid":"c52781a6-dcf9-4225-8b98-d7db05817e83_1"}},"org_snode_id":"58c70e0ea87b6d76b3470f3e","path":"/BUDev/projects/JackSkrable_testPull/logIt_modular_test","instance_version":1,"migrate_version":"master-2517","scrub_backup":[],"create_user_id":"tsemd@bu.edu","project_snode_id":"5a32ed509dd40f002078509b","property_map":{"info":{"notes":{"value":null},"author":{"value":"jskrable@bu.edu"},"purpose":{"value":null},"pipeline_doc_uri":{"value":null},"label":{"value":"logIt_modular_test"}},"input":{"705895ea-273b-435f-ba20-de18c90a71a6_input0":{"label":{"value":"Copy - input0"},"view_type":{"value":"document"}}},"settings":{"param_table":{"value":[{"capture":{"value":true},"key":{"value":"ruuid"},"value":{"value":null}},{"capture":{"value":true},"key":{"value":"label"},"value":{"value":null}},{"capture":{"value":true},"key":{"value":"startTime"},"value":{"value":null}},{"capture":{"value":true},"key":{"value":"error"},"value":{"value":null}},{"capture":{"value":true},"key":{"value":"plexPath"},"value":{"value":null}},{"capture":{"value":true},"key":{"value":"pipe_user"},"value":{"value":null}},{"capture":{"value":true},"key":{"value":"pipe_instanceID"},"value":{"value":null}},{"capture":{"value":true},"key":{"value":"pipe_project_path"},"value":{"value":null}},{"capture":{"value":true},"key":{"value":"pipe_hostname"},"value":{"value":null}},{"capture":{"value":true},"key":{"value":"parentRuuid"},"value":{"value":null}}]},"imports":{"value":[]}},"output":{},"error":{"error_behavior":{"value":"none"}}},"render_map":{"pan_x_num":0,"default_snaplex":"58c70e1349eb06545392a1c8","scale_ratio":1,"detail_map":{"705895ea-273b-435f-ba20-de18c90a71a6":{"grid_x_int":2,"error":{},"grid_y_int":1,"rot_tail_int":0,"input":{},"output":{"output1":{"dx_int":0,"rot_int":0,"dy_int":1}},"rot_int":0},"f8e2a57b-e714-47fb-8766-9f9563f6bc92":{"grid_x_int":7,"error":{},"grid_y_int":1,"rot_tail_int":0,"input":{},"output":{},"rot_int":0},"86d755c7-a187-4ef6-8b94-582aac468c8a":{"grid_x_int":3,"error":{},"grid_y_int":1,"rot_tail_int":0,"input":{},"output":{},"rot_int":0},"0c9d5c13-227a-4d12-b9c3-0696af5bac34":{"grid_x_int":8,"error":{},"grid_y_int":1,"rot_tail_int":0,"input":{},"output":{},"rot_int":270},"9a62d488-1089-475e-9707-f7f3791fcaa0":{"grid_x_int":6,"error":{},"grid_y_int":1,"rot_tail_int":0,"input":{"input1":{"dx_int":0,"rot_int":0,"dy_int":1}},"output":{},"rot_int":0},"e4847bfc-cd42-4cd6-9547-845250294c36":{"grid_x_int":3,"error":{},"grid_y_int":2,"rot_tail_int":0,"input":{},"output":{"output1":{"dx_int":0,"rot_int":0,"dy_int":1}},"rot_int":0},"22aa6725-683e-4c61-9337-819e8395597a":{"grid_x_int":5,"error":{},"grid_y_int":2,"rot_tail_int":0,"input":{"input1":{"dx_int":0,"rot_int":0,"dy_int":1}},"output":{},"rot_int":0},"eabb844f-6349-4d3a-9e36-f2db80af4f4d":{"grid_x_int":4,"error":{},"grid_y_int":3,"rot_tail_int":0,"input":{},"output":{},"rot_int":0},"c52781a6-dcf9-4225-8b98-d7db05817e83":{"grid_x_int":4,"error":{},"grid_y_int":2,"rot_tail_int":0,"input":{},"output":{},"rot_int":0}},"pan_y_num":0},"org_id":"58c70e0ea87b6d76b3470f3e","instance_id":"c5417432-53d0-426b-9626-bb2d1328d7fe","class_id":"com-snaplogic-pipeline","create_time":"2017-12-14T21:33:22.430000+00:00","instance_fqid":"c5417432-53d0-426b-9626-bb2d1328d7fe_1","link_map":{"link127":{"src_view_id":"output1","dst_view_id":"input0","src_id":"705895ea-273b-435f-ba20-de18c90a71a6","dst_id":"e4847bfc-cd42-4cd6-9547-845250294c36"},"link120":{"src_view_id":"output0","dst_view_id":"input0","src_id":"e4847bfc-cd42-4cd6-9547-845250294c36","dst_id":"c52781a6-dcf9-4225-8b98-d7db05817e83"},"link121":{"src_view_id":"output1","dst_view_id":"input0","src_id":"e4847bfc-cd42-4cd6-9547-845250294c36","dst_id":"eabb844f-6349-4d3a-9e36-f2db80af4f4d"},"link117":{"src_view_id":"output0","dst_view_id":"input1","src_id":"eabb844f-6349-4d3a-9e36-f2db80af4f4d","dst_id":"22aa6725-683e-4c61-9337-819e8395597a"},"link130":{"src_view_id":"output0","dst_view_id":"input0","src_id":"9a62d488-1089-475e-9707-f7f3791fcaa0","dst_id":"f8e2a57b-e714-47fb-8766-9f9563f6bc92"},"link118":{"src_view_id":"output0","dst_view_id":"input0","src_id":"c52781a6-dcf9-4225-8b98-d7db05817e83","dst_id":"22aa6725-683e-4c61-9337-819e8395597a"},"link128":{"src_view_id":"output0","dst_view_id":"input0","src_id":"705895ea-273b-435f-ba20-de18c90a71a6","dst_id":"86d755c7-a187-4ef6-8b94-582aac468c8a"},"link129":{"src_view_id":"output0","dst_view_id":"input0","src_id":"86d755c7-a187-4ef6-8b94-582aac468c8a","dst_id":"9a62d488-1089-475e-9707-f7f3791fcaa0"},"link131":{"src_view_id":"output0","dst_view_id":"input1","src_id":"22aa6725-683e-4c61-9337-819e8395597a","dst_id":"9a62d488-1089-475e-9707-f7f3791fcaa0"},"link134":{"src_view_id":"output0","dst_view_id":"inputRows","src_id":"f8e2a57b-e714-47fb-8766-9f9563f6bc92","dst_id":"0c9d5c13-227a-4d12-b9c3-0696af5bac34"}},"original":{"partition_snode_id":"58c70e0fa87b6d76b3470f45","updated_by":"tsemd@bu.edu","perms":["A","R","W","X"],"time_created":"2017-12-14T21:33:22.711000+00:00","snode_id":"5a32ee22724645001f8dd8d2","owner":"tsemd@bu.edu","path":"/BUDev/projects/JackSkrable_testPull/logIt_modular_test","asset_type":"Pipeline","asset_id":"c5417432-53d0-426b-9626-bb2d1328d7fe","time_updated":"2017-12-14T21:33:22.711000+00:00","name":"logIt_modular_test","parent_snode_id":"5a32ed509dd40f002078509b","acl":[],"metadata":{},"original":{"partition_snode_id":"58c70e0fa87b6d76b3470f45","updated_by":"tsemd@bu.edu","perms":["A","R","W","X"],"time_created":"2017-12-14T21:29:52.831000+00:00","snode_id":"5a32ed509dd40f002078509b","owner":"tsemd@bu.edu","path":"/BUDev/projects/JackSkrable_testPull","asset_type":"Dir","asset_id":null,"time_updated":"2017-12-14T21:29:52.831000+00:00","name":"JackSkrable_testPull","parent_snode_id":"58c70e0fa87b6d76b3470f45","acl":[{"perms":["R","W","X"],"subject_type":"USER","inherit":true,"subject":"tsemd@bu.edu"}],"metadata":{},"original":{"partition_snode_id":"5a1eba684503bf001e5a19c6","updated_by":"sdelano@bu.edu","perms":["A","R","W","X"],"time_created":"2017-03-13T21:24:31.092000+00:00","snode_id":"58c70e0fa87b6d76b3470f45","owner":"sdelano1@comcast.net","path":"/BUDev/projects","asset_type":"Dir","asset_id":null,"time_updated":"2017-11-03T14:40:52.927000+00:00","name":"projects","parent_snode_id":"58c70e0ea87b6d76b3470f3e","acl":[{"perms":["R","W","X"],"subject_type":"USER","inherit":true,"subject":"admin@snaplogic.com"},{"perms":["R"],"subject_type":"GROUP","inherit":false,"subject":"members"},{"perms":["R"],"subject_type":"USER","inherit":false,"subject":"mvyravan@bu.edu"},{"perms":["R","W","X"],"subject_type":"USER","inherit":true,"subject":"sdelano1@comcast.net"},{"perms":["R","X","W"],"subject_type":"GROUP","inherit":false,"subject":"Developers"}],"metadata":{}}}}}