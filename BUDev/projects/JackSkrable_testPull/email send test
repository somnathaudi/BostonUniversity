{"link_serial":104,"update_time":"2017-12-14T21:33:09.073000+00:00","phase_snode_id":null,"scrub_version":"48f99abcdf450e7c49a04015355fb699f785e8cbf8288d894686a64c6caeddd1","update_user_id":"tsemd@bu.edu","class_fqid":"com-snaplogic-pipeline_8","partition_snode_id":"58c70e0fa87b6d76b3470f45","path_id":"/BUDev/projects/JackSkrable_testPull","class_version":8,"snode_id":"5a32ee154503bf001f2467ee","snap_map":{"09465e42-f740-4e82-a65a-0513ad0740f4":{"instance_version":1,"class_id":"com-snaplogic-snaps-email-emailsender","class_build_tag":"snapsmrc405","class_fqid":"com-snaplogic-snaps-email-emailsender_2-snapsmrc405","instance_id":"09465e42-f740-4e82-a65a-0513ad0740f4","property_map":{"info":{"notes":{"value":null},"label":{"value":"Email Sender"}},"view_serial":102,"account":{"account_ref":{"expression":false,"value":{"ref_id":{"expression":false,"value":"ed44d88c-1173-4639-8af8-a45e9b3fffd1"},"ref_class_id":{"value":"com-snaplogic-snaps-email-smtpaccount"},"label":{"expression":false,"value":"jskrable Test Email Sender"}}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"settings":{"body":{"expression":false,"value":"This is a sample of what our reporting data can look like. This task was automated and sent from SnapLogic. The CSV files attached are queries on our Disposition Report tables in Aurora. I grabbed a few that I thought might be useful for you.\n\nLet us know what you think.\n\nBest,\nJack"},"retries":{"value":3},"from":{"expression":false,"value":"reporting@snaplogic.budev.com"},"attachments":{"value":[{"url":{"expression":true,"value":"\"daily_summaries_by_snapplex_\" + Date.now().getMonth().toString() + \"_\" + Date.now().getDate().toString() + \"_\" + Date.now().getFullYear().toString().substring(2,4) + \".csv\""}},{"url":{"expression":true,"value":"\"daily_docs_processed_by_classification_\" + Date.now().getMonth().toString() + \"_\" + Date.now().getDate().toString() + \"_\" + Date.now().getFullYear().toString().substring(2,4) + \".csv\""}}]},"cc":{"expression":false,"value":"sdelano@bu.edu"},"emailType":{"value":"HTML text"},"batchSize":{"value":100},"executable_during_suggest":{"value":false},"bcc":{"expression":false,"value":null},"to":{"expression":false,"value":"jskrable@bu.edu"},"tableDataPath":{"value":null},"passThrough":{"value":false},"subject":{"expression":false,"value":"Weekly Snaplogic Summary Reports"}}},"class_version":2,"instance_fqid":"09465e42-f740-4e82-a65a-0513ad0740f4_1"},"998c9ae3-9db3-461b-bb16-c97b854b15d5":{"instance_version":1,"class_id":"com-snaplogic-snaps-binary-write","class_build_tag":"snapsmrc405","class_fqid":"com-snaplogic-snaps-binary-write_3-snapsmrc405","instance_id":"998c9ae3-9db3-461b-bb16-c97b854b15d5","property_map":{"info":{"notes":{"value":null},"label":{"value":"File Writer"}},"view_serial":101,"account":{"account_ref":{"expression":false,"value":{}}},"settings":{"createDir":{"value":false},"writeHeader":{"value":false},"executable_during_suggest":{"value":false},"filename":{"expression":true,"value":"\"daily_docs_processed_by_classification_\" + Date.now().getMonth().toString() + \"_\" + Date.now().getDate().toString() + \"_\" + Date.now().getFullYear().toString().substring(2,4) + \".csv\""},"writeEmptyFile":{"value":false},"UserPermissionsKey":{"value":[]},"validate":{"value":false},"fileAction":{"value":"OVERWRITE"}},"output":{"output101":{"view_type":{"value":"document"},"label":{"value":"output0"}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"binary"}}}},"class_version":3,"instance_fqid":"998c9ae3-9db3-461b-bb16-c97b854b15d5_1"},"683fa4b9-05f6-4784-980e-bbd43105ecf7":{"instance_version":1,"class_id":"com-snaplogic-snaps-transform-csvformatter","class_build_tag":"snapsmrc405","class_fqid":"com-snaplogic-snaps-transform-csvformatter_3-snapsmrc405","instance_id":"683fa4b9-05f6-4784-980e-bbd43105ecf7","property_map":{"info":{"label":{"value":"CSV Formatter"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"quoteMode":{"value":"ALL"},"quoteCharacter":{"value":"\""},"writeHeader":{"value":true},"charset":{"value":"UTF-8"},"ignoreEmptyStream":{"value":false},"delimiter":{"value":","},"newlineCharacter":{"value":"LF"},"useDefinedHeader":{"value":false}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"binary"}}}},"class_version":3,"instance_fqid":"683fa4b9-05f6-4784-980e-bbd43105ecf7_1"},"c15170dc-38c7-448d-9c90-684103d7e4b5":{"instance_version":1,"class_id":"com-snaplogic-snaps-binary-write","class_build_tag":"snapsmrc405","class_fqid":"com-snaplogic-snaps-binary-write_3-snapsmrc405","instance_id":"c15170dc-38c7-448d-9c90-684103d7e4b5","property_map":{"info":{"notes":{"value":null},"label":{"value":"File Writer"}},"view_serial":101,"account":{"account_ref":{"expression":false,"value":{}}},"input":{"input0":{"view_type":{"value":"binary"},"label":{"value":"input0"}}},"settings":{"createDir":{"value":false},"writeHeader":{"value":false},"executable_during_suggest":{"value":false},"filename":{"expression":true,"value":"\"daily_summaries_by_snapplex_\" + Date.now().getMonth().toString() + \"_\" + Date.now().getDate().toString() + \"_\" + Date.now().getFullYear().toString().substring(2,4) + \".csv\""},"writeEmptyFile":{"value":false},"UserPermissionsKey":{"value":[]},"validate":{"value":false},"fileAction":{"value":"OVERWRITE"}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output101":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_version":3,"instance_fqid":"c15170dc-38c7-448d-9c90-684103d7e4b5_1"},"58f49fd6-d7d8-41d9-9148-fa68e42133bf":{"instance_version":1,"class_id":"com-snaplogic-snaps-mysql-execute","class_build_tag":"snapsmrc405","class_fqid":"com-snaplogic-snaps-mysql-execute_1-snapsmrc405","instance_id":"58f49fd6-d7d8-41d9-9148-fa68e42133bf","property_map":{"info":{"notes":{"value":null},"label":{"value":"MySQL - Execute"}},"view_serial":101,"account":{"account_ref":{"expression":false,"value":{"label":{"expression":false,"value":"MYSQL Aurora"},"ref_class_id":{"value":"com-snaplogic-snap-api-sql-accounts-mysqldatabaseaccount"},"ref_id":{"expression":false,"value":"7058dcab-4bf3-40f4-a7fd-f957f752c3e3"}}}},"settings":{"passThrough":{"value":true},"ignoreEmptyResult":{"value":false},"executable_during_suggest":{"value":true},"sqlStatement":{"expression":false,"value":"SELECT CAST(A.state_timestamp AS DATE) as Date\n,B.cloudDocs\n,B.cloudPipes\n,B.cloudAvgDuration\n,C.groundDocs\n,C.groundPipes\n,C.groundAvgDuration\nFROM Dispositon_Report.Pipeline_Disposition A\n     LEFT OUTER JOIN\n     (SELECT SUM(DOCUMENTS) as cloudDocs,\n             COUNT(ID) as cloudPipes,\n\t\t   state_timestamp,\n             avg((CAST(state_timestamp AS TIME) - CAST(create_time AS TIME)))\n                AS cloudAvgDuration\n      FROM Dispositon_Report.Pipeline_Disposition\n      WHERE runtime_path_id like '%/rt/cloud/%'\n\t GROUP BY CAST(state_timestamp AS DATE)) B\n        ON CAST(A.state_timestamp AS DATE) = CAST(B.state_timestamp AS DATE)\n     LEFT OUTER JOIN\n     (SELECT SUM(DOCUMENTS) as groundDocs,\n             COUNT(ID) as groundPipes,\n\t\t   state_timestamp,\n             avg((CAST(state_timestamp AS TIME) - CAST(create_time AS TIME)))\n                AS groundAvgDuration\n      FROM Dispositon_Report.Pipeline_Disposition\n      WHERE runtime_path_id like '%/rt/sidekick/%'\n\t GROUP BY CAST(state_timestamp AS DATE)) C\n        ON CAST(A.state_timestamp AS DATE) = CAST(C.state_timestamp AS DATE)\nWHERE A.state IN ('Completed', 'Failed')\nGROUP BY CAST(A.state_timestamp AS DATE)\nORDER BY CAST(A.state_timestamp AS DATE) desc;"}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output101":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"class_version":1,"instance_fqid":"58f49fd6-d7d8-41d9-9148-fa68e42133bf_1"},"6c61c217-68af-4a12-b0a8-ca6777cfaebc":{"instance_version":1,"class_id":"com-snaplogic-snaps-mysql-execute","class_build_tag":"snapsmrc405","class_fqid":"com-snaplogic-snaps-mysql-execute_1-snapsmrc405","instance_id":"6c61c217-68af-4a12-b0a8-ca6777cfaebc","property_map":{"info":{"notes":{"value":null},"label":{"value":"MySQL - Execute"}},"view_serial":101,"account":{"account_ref":{"expression":false,"value":{"label":{"expression":false,"value":"MYSQL Aurora"},"ref_class_id":{"value":"com-snaplogic-snap-api-sql-accounts-mysqldatabaseaccount"},"ref_id":{"expression":false,"value":"7058dcab-4bf3-40f4-a7fd-f957f752c3e3"}}}},"settings":{"passThrough":{"value":true},"ignoreEmptyResult":{"value":false},"executable_during_suggest":{"value":true},"sqlStatement":{"expression":false,"value":"SELECT CONVERT(A.state_timestamp, DATE)\n          AS Date,\n       CASE WHEN B.internalProcessed IS NULL THEN 0 ELSE B.internalProcessed END\n          AS 'Internal Docs Processed',\n       CASE WHEN C.publicProcessed IS NULL THEN 0 ELSE C.publicProcessed END\n          AS 'Public Docs Processed',\n       CASE WHEN D.restrictedProcessed IS NULL THEN 0 ELSE D.restrictedProcessed END\n          AS 'Restricted Docs Processed',\n       CASE WHEN E.confidentialProcessed IS NULL THEN 0 ELSE E.confidentialProcessed END\n          AS 'Confidential Docs Processed'\t\t\nFROM Dispositon_Report.Pipeline_Disposition A\n     LEFT OUTER JOIN\n     (SELECT a.create_time,\n             SUM(a.documents) AS internalProcessed,\n             b.Data_Classification,\n\t\t   a.pipe_id\n      FROM Dispositon_Report.Pipeline_Disposition a\n           INNER JOIN Dispositon_Report.Pipeline_Descriptor b\n              ON a.pipe_id = b.pipe_instanceId\n      WHERE b.Data_Classification = 'Internal'\n      GROUP BY convert(a.create_time, date)) B\n        ON CONVERT(A.state_timestamp, DATE)=convert(B.create_time, date)\n     LEFT OUTER JOIN\n     (SELECT a.create_time,\n             SUM(a.documents) AS publicProcessed,\n             b.Data_Classification,\n\t\t   a.pipe_id\n      FROM Dispositon_Report.Pipeline_Disposition a\n           INNER JOIN Dispositon_Report.Pipeline_Descriptor b\n              ON a.pipe_id = b.pipe_instanceId\n      WHERE b.Data_Classification = 'Public'\n      GROUP BY convert(a.create_time, date)) C\n        ON CONVERT(A.state_timestamp, DATE)=convert(C.create_time, date)\n     LEFT OUTER JOIN\n     (SELECT a.create_time,\n             SUM(a.documents) AS restrictedProcessed,\n             b.Data_Classification,\n\t\t   a.pipe_id\n      FROM Dispositon_Report.Pipeline_Disposition a\n           INNER JOIN Dispositon_Report.Pipeline_Descriptor b\n              ON a.pipe_id = b.pipe_instanceId\n      WHERE b.Data_Classification = 'Restricted'\n      GROUP BY convert(a.create_time, date)) D\n        ON CONVERT(A.state_timestamp, DATE)=convert(D.create_time, date)\n     LEFT OUTER JOIN\n     (SELECT a.create_time,\n             SUM(a.documents) AS confidentialProcessed,\n             b.Data_Classification,\n\t\t   a.pipe_id\n      FROM Dispositon_Report.Pipeline_Disposition a\n           INNER JOIN Dispositon_Report.Pipeline_Descriptor b\n              ON a.pipe_id = b.pipe_instanceId\n      WHERE b.Data_Classification = 'Confidential'\n      GROUP BY convert(a.create_time, date)) E\n        ON CONVERT(A.state_timestamp, DATE)=convert(E.create_time, date)\nWHERE A.state != 'Failed'\nGROUP BY CONVERT(A.state_timestamp, DATE)\nORDER BY CONVERT(A.state_timestamp, DATE) desc;"}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output101":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_version":1,"instance_fqid":"6c61c217-68af-4a12-b0a8-ca6777cfaebc_1"},"1128216f-517c-4907-9c87-3eff2786f9a3":{"instance_version":1,"class_id":"com-snaplogic-snaps-transform-csvformatter","class_build_tag":"snapsmrc405","class_fqid":"com-snaplogic-snaps-transform-csvformatter_3-snapsmrc405","instance_id":"1128216f-517c-4907-9c87-3eff2786f9a3","property_map":{"info":{"label":{"value":"CSV Formatter"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"quoteMode":{"value":"ALL"},"quoteCharacter":{"value":"\""},"writeHeader":{"value":true},"charset":{"value":"UTF-8"},"ignoreEmptyStream":{"value":false},"delimiter":{"value":","},"newlineCharacter":{"value":"LF"},"useDefinedHeader":{"value":false}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"binary"},"label":{"value":"output0"}}}},"class_version":3,"instance_fqid":"1128216f-517c-4907-9c87-3eff2786f9a3_1"}},"org_snode_id":"58c70e0ea87b6d76b3470f3e","path":"/BUDev/projects/JackSkrable_testPull/email send test","instance_version":1,"migrate_version":"master-2517","scrub_backup":[],"create_user_id":"tsemd@bu.edu","project_snode_id":"5a32ed509dd40f002078509b","property_map":{"info":{"notes":{"value":null},"label":{"value":"email send test"},"purpose":{"value":null},"pipeline_doc_uri":{"value":null},"author":{"value":"jskrable@bu.edu"}},"input":{},"settings":{"param_table":{"value":[]},"imports":{"value":[]}},"output":{"998c9ae3-9db3-461b-bb16-c97b854b15d5_output101":{"label":{"value":"File Writer - output0"},"view_type":{"value":"document"}},"c15170dc-38c7-448d-9c90-684103d7e4b5_output101":{"view_type":{"value":"document"},"label":{"value":"File Writer - output0"}}},"error":{"error_behavior":{"value":"none"}}},"render_map":{"pan_x_num":0,"default_snaplex":"58c70e1349eb06545392a1c8","scale_ratio":1,"detail_map":{"09465e42-f740-4e82-a65a-0513ad0740f4":{"grid_x_int":7,"error":{},"grid_y_int":2,"rot_tail_int":0,"input":{},"output":{},"rot_int":0},"998c9ae3-9db3-461b-bb16-c97b854b15d5":{"grid_x_int":5,"error":{},"grid_y_int":3,"rot_tail_int":0,"input":{},"output":{},"rot_int":0},"683fa4b9-05f6-4784-980e-bbd43105ecf7":{"grid_x_int":4,"error":{},"grid_y_int":3,"rot_tail_int":0,"input":{},"output":{},"rot_int":0},"c15170dc-38c7-448d-9c90-684103d7e4b5":{"grid_x_int":5,"error":{},"grid_y_int":2,"rot_tail_int":0,"input":{},"output":{},"rot_int":0},"58f49fd6-d7d8-41d9-9148-fa68e42133bf":{"grid_x_int":3,"error":{},"grid_y_int":2,"rot_tail_int":0,"input":{},"output":{},"rot_int":0},"6c61c217-68af-4a12-b0a8-ca6777cfaebc":{"grid_x_int":3,"error":{},"grid_y_int":3,"rot_tail_int":0,"input":{},"output":{},"rot_int":0},"1128216f-517c-4907-9c87-3eff2786f9a3":{"grid_x_int":4,"error":{},"grid_y_int":2,"rot_tail_int":0,"input":{},"output":{},"rot_int":0}},"pan_y_num":0},"org_id":"58c70e0ea87b6d76b3470f3e","instance_id":"a51e3b9f-e798-44fb-b97f-2c19c448ae43","class_id":"com-snaplogic-pipeline","create_time":"2017-12-14T21:33:08.980000+00:00","instance_fqid":"a51e3b9f-e798-44fb-b97f-2c19c448ae43_1","link_map":{"link102":{"src_view_id":"output0","dst_view_id":"input0","src_id":"683fa4b9-05f6-4784-980e-bbd43105ecf7","dst_id":"998c9ae3-9db3-461b-bb16-c97b854b15d5"},"link103":{"src_view_id":"output0","dst_view_id":"input0","src_id":"1128216f-517c-4907-9c87-3eff2786f9a3","dst_id":"c15170dc-38c7-448d-9c90-684103d7e4b5"},"link100":{"src_view_id":"output101","dst_view_id":"input0","src_id":"58f49fd6-d7d8-41d9-9148-fa68e42133bf","dst_id":"1128216f-517c-4907-9c87-3eff2786f9a3"},"link101":{"src_view_id":"output101","dst_view_id":"input0","src_id":"6c61c217-68af-4a12-b0a8-ca6777cfaebc","dst_id":"683fa4b9-05f6-4784-980e-bbd43105ecf7"}},"original":{"partition_snode_id":"58c70e0fa87b6d76b3470f45","updated_by":"tsemd@bu.edu","perms":["A","R","W","X"],"time_created":"2017-12-14T21:33:09.073000+00:00","snode_id":"5a32ee154503bf001f2467ee","owner":"tsemd@bu.edu","path":"/BUDev/projects/JackSkrable_testPull/email send test","asset_type":"Pipeline","asset_id":"a51e3b9f-e798-44fb-b97f-2c19c448ae43","time_updated":"2017-12-14T21:33:09.073000+00:00","name":"email send test","parent_snode_id":"5a32ed509dd40f002078509b","acl":[],"metadata":{},"original":{"partition_snode_id":"58c70e0fa87b6d76b3470f45","updated_by":"tsemd@bu.edu","perms":["A","R","W","X"],"time_created":"2017-12-14T21:29:52.831000+00:00","snode_id":"5a32ed509dd40f002078509b","owner":"tsemd@bu.edu","path":"/BUDev/projects/JackSkrable_testPull","asset_type":"Dir","asset_id":null,"time_updated":"2017-12-14T21:29:52.831000+00:00","name":"JackSkrable_testPull","parent_snode_id":"58c70e0fa87b6d76b3470f45","acl":[{"perms":["R","W","X"],"subject_type":"USER","inherit":true,"subject":"tsemd@bu.edu"}],"metadata":{},"original":{"partition_snode_id":"5a1eba684503bf001e5a19c6","updated_by":"sdelano@bu.edu","perms":["A","R","W","X"],"time_created":"2017-03-13T21:24:31.092000+00:00","snode_id":"58c70e0fa87b6d76b3470f45","owner":"sdelano1@comcast.net","path":"/BUDev/projects","asset_type":"Dir","asset_id":null,"time_updated":"2017-11-03T14:40:52.927000+00:00","name":"projects","parent_snode_id":"58c70e0ea87b6d76b3470f3e","acl":[{"perms":["R","W","X"],"subject_type":"USER","inherit":true,"subject":"admin@snaplogic.com"},{"perms":["R"],"subject_type":"GROUP","inherit":false,"subject":"members"},{"perms":["R"],"subject_type":"USER","inherit":false,"subject":"mvyravan@bu.edu"},{"perms":["R","W","X"],"subject_type":"USER","inherit":true,"subject":"sdelano1@comcast.net"},{"perms":["R","X","W"],"subject_type":"GROUP","inherit":false,"subject":"Developers"}],"metadata":{}}}}}